<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Basic Pagination - jQuery EasyUI Demo</title>
    <link rel="stylesheet" type="text/css" href="themes/default/easyui.css">
    <link rel="stylesheet" type="text/css" href="themes/icon.css">
<!--    <link rel="stylesheet" type="text/css" href="demo.css">-->
    <script type="text/javascript" src="js/jquery.min.js"></script>
    <script type="text/javascript" src="js/jquery.easyui.min.js"></script>
    <script type="text/javascript" src="js/easyui-lang-zh_CN.js"></script>
</head>

<body>
<div style="margin:20px 0;"></div>
<input class="easyui-searchbox" data-options="prompt:'Please Input Value',searcher:doSearch" style="width:300px"></input>
<div style="margin:20px 0;"></div>
<div>
    <table method="get" id="mytable"></table>
</div>

<div id="exportExcelQDB" class="easyui-dialog" closed="true" title="添加" style="width: 400px;height: 350px;" data-options="buttons: '#dlg-buttons-export',modal:true">
    <form method="get" id="exportCelQDB" class="easyui-from">
        <table  style="margin-left: 10px;margin-top:15px;" border="0">
            <tr>
                <td>uuid</td>
                <td>
                    <input id="b" class="easyui-textbox"  name="column1" value="">
                </td>
            </tr>
            <tr>
                <td>姓名</td>
                <td>
                    <input class="easyui-textbox" name="column2" value="" >
                </td>
            </tr>
            <tr>
                <td>姓名全拼</td>
                <td>
                    <input class="easyui-textbox" name="column3" value="" >
                </td>
            </tr>
            <tr>
                <td>性别</td>
                <td>
                    <select class="easyui-combobox" name="column4" style="width:180px;">
                        <option value="男">男</option>
                        <option value="女">女</option>

                    </select>
                </td>
            </tr>
            <tr>
                <td>身份证证件</td>
                <td>
                    <select class="easyui-combobox" name="column4" style="width:180px;">
                        <option value="居民身份证">居民身份证</option>
                        <option value="港澳台身份证">港澳台身份证</option>

                    </select>
                </td>
            </tr>
            <tr>
                <td>身份证证件号</td>
                <td>
                    <input class="easyui-textbox" name="column6" value="" >
                </td>
            </tr>
            <tr>
                <td>出生日期</td>
                <td>
                    <input  type="text" class="easyui-datebox" required="required"  name="column7" value="" >
                </td>
            </tr>
            <tr>
                <td>手机号码</td>
                <td>
                    <input class="easyui-textbox" name="column8" value="" >
                </td>
            </tr>
            <tr>
                <td>电子邮箱</td>
                <td>
                    <input class="easyui-textbox"  name="column9" value="" >
                </td>
            </tr>

        </table>
    </form>
</div>
<div id="dlg-buttons-export" style="text-align: center;">
    <a class="easyui-linkbutton" onClick="upload()">确定</a>
    <a class="easyui-linkbutton" onClick="javascript:$('#exportExcelQDB').dialog('close').form('clear');">取消</a>
<!--    <button type="button"  class="easyui-linkbutton" name="记住我">记住</button>-->
</div>





</body>
<script type="text/javascript">
    function doSearch(value){
        alert('You input: ' + value);
    }

        //页面加载完成后，创建数据表格datagrid
        $("#mytable").datagrid({

            //定义标题行所有的列
            columns:[[
                {field:'ck',checkbox:true},
                {title:'uuid',field:'column1'},
                {title:'姓名',field:'column2'},
                {title:'姓名全拼',field:'column3'},
                {title:'性别',field:'column4'},
                {title:'身份证证件',field:'column5'},
                {title:'身份证证件号',field:'column6'},
                {title:'出生日期',field:'column7'},
                {title:'手机号码',field:'column8'},
                {title:'电子邮箱',field:'column9'},
                {title:'createtime',field:'createtime'},
                {title:'updatetime',field:'updatetime'},

            ]],
            frozenColumns:{title:'修改'},
            //指定数据表格发送ajax请求的地址
            url:'http://localhost:8080/find',
            rownumbers:true,
            singleSelect:true,

            // getSelection
            // checkbox:true,
            selectOnCheck:false,
            //定义工具栏
            toolbar:[
                {text:'添加',iconCls:'icon-add',
                    //为按钮绑定单击事件
                    handler:function(){

                        //打开弹出框的方法
                        $("#exportExcelQDB").dialog('open');

                        // $('#exportExcelQDB').form('clear');		//情空弹出框的表单
                        // $("#exportCelQDB1").form("load",obj);	//渲染数据到input框
                        // $("#exportExcelQDB").dialog('close');	//关闭弹出框
                        $('#exportExcelQDB').form('clear');		//情空弹出框的表单



                    }
                },
                {text:'删除',iconCls:'icon-remove',

                    //为按钮绑定单击事件
                    handler:function(){
                        //添加事件批量删除

                            //datagrid控件（方法中的getSelections）获取对应所以的数据rows
                            var rows=$('#mytable').datagrid('getChecked');
                            console.log(rows);
                            var array=new Array();
                            if(rows!=null&&rows.length>0){
                                for (var i in rows) {
                                    //获得选中所以的bid
                                    array.push(rows[i].column1);
                                }
                            }

                            if(array.length>0){

                                $.ajax({
                                    //同时还要把bid带过去
                                    url:'/delete',
                                    data: {
                                        "ids": array
                                    },
                                    type: "post",
                                    dataType: "json",
                                    
                                });
                            }
                        ;


                    }

                },
                {text:'修改',iconCls:'icon-edit',
                    //为按钮绑定单击事件
                    handler:function(){
                        $("#exportExcelQDB").dialog('open');
                        var rows=$('#mytable').datagrid('getChecked');
                        $('#exportCelQDB').form('load',{
                            column1:rows[0].column1,
                            column2:rows[0].column2,
                            column3:rows[0].column3,
                            column4:rows[0].column4,
                            column5:rows[0].column5,
                            column6:rows[0].column6,
                            column7:rows[0].column7,
                            column8:rows[0].column8,
                            column9:rows[0].column9,

                        });






                    }},
                {text:'查询',iconCls:'icon-search'}
            ],
            //显示分页条
            pagination:true
        });


    function upload() {
        var data = $('#exportCelQDB').serialize()
alert(data)
        $.ajax({
            url: "/insert",
            type: "get",
            data: data,
            dataType: "json",
            // 这两个参数必须写
            contentType: false,
            processData: false,
            success: function (resp) {
                alert(resp.message);

            }
        })
    }

</script>
</html>